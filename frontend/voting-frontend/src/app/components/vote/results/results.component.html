<div class="container mt-4">

  <h2 class="text-center mb-3">Voting Results</h2>

  <!-- TOP CANDIDATES -->
  <h4 class="mb-3">Top Candidates</h4>

  <table *ngIf="results.length > 0" class="table table-bordered">
    <thead>
      <tr>
        <th>#</th>
        <th>Candidate</th>
        <th>Votes</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let r of results; let i = index">
        <td>{{ i + 1 }}</td>
        <td>{{ r.name }} {{ r.lastName }}</td>
        <td>{{ r.vote_count }}</td>
      </tr>
    </tbody>
  </table>

  <hr>

  <!-- LISTA DE VOTOS -->
  <h4>Votes Entered</h4>

  <table class="table table-striped">
    <thead>
      <tr>
        <th>ID Vote</th>
        <th>Voter</th>
        <th>Candidate</th>
        <th>Date</th>
        <th>Detail</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of votes">
        <td>{{ item.vote_id }}</td>
        <td>{{ item.voter_name }} {{ item.voter_lastName }}</td>
        <td>{{ item.candidate_name }} {{ item.candidate_lastName }}</td>
        <td>{{ item.vote_date | date:'short' }}</td>
        <td>
          <button class="btn btn-primary btn-sm" (click)="viewDetail(item.vote_id)">
            View
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- DETALLE DEL VOTO -->
  <div *ngIf="selectedVote" class="card p-3 mt-3">
    <h5>Vote Detail</h5>

    <p><strong>ID Vote:</strong> {{ selectedVote.vote_id }}</p>

    <p><strong>Voter:</strong> {{ selectedVote.voter_name }} {{ selectedVote.voter_lastName }}</p>
    <p><strong>Document:</strong> {{ selectedVote.voter_document }}</p>
    <p><strong>Date of Birth:</strong> {{ selectedVote.voter_dob }}</p>

    <p><strong>Candidate:</strong> {{ selectedVote.candidate_name }} {{ selectedVote.candidate_lastName }}</p>

    <p><strong>Vote Date:</strong> {{ selectedVote.vote_date | date:'short' }}</p>
  </div>

</div>
